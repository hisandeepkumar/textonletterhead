<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Myrtille Industries - Text to PDF Generator</title>
  <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      background: radial-gradient(circle at center, #0c0f1a, #05070f);
      font-family: 'Poppins', sans-serif; 
      min-height: 100vh; 
      display: flex; 
      justify-content: center; 
      align-items: center; 
      padding: 20px;
      overflow-x: hidden;
    }
    .container { max-width: 800px; width: 100%; }
    .app-card { 
      background: rgba(20, 25, 40, 0.85); 
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(0, 170, 255, 0.3),
                  0 0 40px rgba(0, 100, 255, 0.15),
                  0 0 60px rgba(0, 80, 255, 0.05);
      overflow: hidden; 
      border: 1px solid rgba(100, 180, 255, 0.3);
      position: relative;
    }
    .app-card::before {
      content: "";
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, 
        rgba(0, 200, 255, 0.5), 
        rgba(0, 100, 255, 0.3), 
        rgba(100, 0, 255, 0.2));
      z-index: -1;
      border-radius: 22px;
      animation: glow 4s linear infinite;
    }
    @keyframes glow {
      0% { filter: blur(5px) brightness(1.2); }
      50% { filter: blur(8px) brightness(1.5); }
      100% { filter: blur(5px) brightness(1.2); }
    }
    .app-header { 
      background: linear-gradient(90deg, rgba(20, 30, 50, 0.9), rgba(30, 40, 70, 0.9)); 
      color: rgba(220, 240, 255, 0.95); 
      padding: 25px; 
      text-align: center; 
      position: relative;
      overflow: hidden;
      border-bottom: 1px solid rgba(100, 180, 255, 0.3);
    }
    .app-header::before {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(100, 180, 255, 0.1) 0%, rgba(100, 180, 255, 0) 70%);
      transform: rotate(30deg);
    }
    .app-header h1 { 
      font-size: 32px; 
      font-weight: 700; 
      position: relative; 
      text-shadow: 0 0 10px rgba(100, 180, 255, 0.5);
      letter-spacing: 1px;
    }
    .app-header p { 
      font-size: 18px; 
      opacity: 0.9; 
      position: relative; 
      margin-top: 10px; 
      color: rgba(180, 220, 255, 0.8);
    }
    .app-content { padding: 35px; }
    .app-section { margin-bottom: 35px; }
    .section-title { 
      display: flex; 
      align-items: center; 
      margin-bottom: 20px; 
      color: rgba(220, 240, 255, 0.95);
      position: relative;
      padding-left: 15px;
    }
    .section-title::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 4px;
      background: linear-gradient(to bottom, rgba(0, 170, 255, 0.8), rgba(0, 100, 255, 0.8));
      border-radius: 3px;
      box-shadow: 0 0 8px rgba(0, 170, 255, 0.5);
    }
    .section-title i { 
      margin-right: 15px; 
      color: rgba(0, 170, 255, 0.9); 
      font-size: 24px; 
      text-shadow: 0 0 8px rgba(0, 170, 255, 0.5);
    }
    .section-title h2 { 
      font-size: 24px; 
      font-weight: 600; 
      text-shadow: 0 0 8px rgba(0, 170, 255, 0.3);
    }
    .text-area-container { 
      background: rgba(10, 15, 30, 0.5); 
      border: 2px solid rgba(0, 170, 255, 0.4); 
      border-radius: 12px; 
      padding: 25px; 
      position: relative; 
      transition: all 0.3s ease;
      box-shadow: 0 0 15px rgba(0, 170, 255, 0.1);
    }
    .text-area-container:focus-within { 
      border-color: rgba(0, 200, 255, 0.8);
      box-shadow: 0 0 0 3px rgba(0, 170, 255, 0.2),
                  0 0 20px rgba(0, 170, 255, 0.3);
    }
    .text-area-container label { 
      display: block; 
      margin-bottom: 15px; 
      color: rgba(220, 240, 255, 0.95); 
      font-weight: 500; 
      font-size: 18px;
    }
    .text-area-container textarea {
      width: 100%;
      min-height: 250px;
      padding: 15px;
      background: rgba(5, 10, 20, 0.4);
      border: 1px solid rgba(100, 180, 255, 0.2);
      border-radius: 8px;
      font-family: 'Poppins', sans-serif;
      font-size: 16px;
      resize: vertical;
      transition: all 0.3s;
      color: rgba(220, 240, 255, 0.9);
      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
    }
    .text-area-container textarea:focus {
      outline: none;
      border-color: rgba(0, 200, 255, 0.8);
      box-shadow: 0 0 0 2px rgba(0, 170, 255, 0.2),
                  inset 0 0 10px rgba(0, 0, 0, 0.3);
    }
    .btn { 
      background: linear-gradient(90deg, rgba(0, 150, 255, 0.9), rgba(0, 100, 200, 0.9)); 
      color: rgba(240, 250, 255, 0.95); 
      border: none; 
      padding: 12px 25px; 
      border-radius: 10px; 
      cursor: pointer; 
      font-size: 16px; 
      transition: all 0.3s; 
      position: relative;
      overflow: hidden;
      z-index: 1;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      border: 1px solid rgba(100, 180, 255, 0.4);
      box-shadow: 0 0 10px rgba(0, 150, 255, 0.3);
    }
    .btn::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: all 0.6s;
      z-index: -1;
    }
    .btn:hover { 
      transform: translateY(-4px); 
      box-shadow: 0 6px 20px rgba(0, 150, 255, 0.5),
                  0 0 20px rgba(0, 150, 255, 0.4);
    }
    .btn:hover::before {
      left: 100%;
    }
    .btn:disabled { 
      background: rgba(100, 110, 140, 0.5); 
      cursor: not-allowed; 
      transform: none; 
      box-shadow: none;
      border: 1px solid rgba(100, 110, 140, 0.3);
    }
    .btn-secondary {
      background: linear-gradient(90deg, rgba(30, 40, 70, 0.9), rgba(20, 30, 60, 0.9));
      box-shadow: 0 0 10px rgba(80, 100, 180, 0.3);
    }
    .action-buttons {
      display: flex;
      gap: 15px;
      margin-top: 15px;
    }
    .status-area { 
      display: none; 
      margin-top: 25px; 
      padding: 25px; 
      background: rgba(10, 20, 40, 0.6); 
      border-radius: 12px; 
      border: 1px solid rgba(0, 170, 255, 0.3);
      box-shadow: 0 0 15px rgba(0, 170, 255, 0.1);
    }
    .status-area.active { display: block; }
    .status-header { 
      display: flex; 
      align-items: center; 
      margin-bottom: 15px; 
      color: rgba(220, 240, 255, 0.95);
    }
    .status-header i { 
      margin-right: 15px; 
      font-size: 24px; 
      color: rgba(0, 170, 255, 0.9);
      text-shadow: 0 0 8px rgba(0, 170, 255, 0.5);
    }
    .status-header h3 { 
      font-size: 22px; 
      font-weight: 600; 
      text-shadow: 0 0 8px rgba(0, 170, 255, 0.3);
    }
    .progress-container { 
      background: rgba(10, 20, 40, 0.8); 
      height: 12px; 
      border-radius: 6px; 
      overflow: hidden; 
      margin: 20px 0;
      box-shadow: inset 0 1px 2px rgba(0,0,0,0.3);
      border: 1px solid rgba(100, 180, 255, 0.2);
    }
    .progress-bar { 
      height: 100%; 
      width: 0; 
      background: linear-gradient(90deg, rgba(0, 170, 255, 0.9), rgba(0, 100, 255, 0.9)); 
      transition: width 0.4s ease; 
      box-shadow: 0 0 10px rgba(0, 170, 255, 0.5);
    }
    .status-message { 
      margin-top: 15px; 
      color: rgba(220, 240, 255, 0.9); 
      font-size: 18px; 
      text-align: center;
      text-shadow: 0 0 8px rgba(0, 170, 255, 0.2);
    }
    .footer { 
      background: linear-gradient(90deg, rgba(20, 30, 50, 0.9), rgba(30, 40, 70, 0.9)); 
      color: rgba(180, 220, 255, 0.8); 
      text-align: center; 
      padding: 20px; 
      font-size: 16px; 
      position: relative;
      border-top: 1px solid rgba(100, 180, 255, 0.3);
    }
    .footer::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, rgba(0, 170, 255, 0.8), rgba(0, 100, 255, 0.8));
      box-shadow: 0 0 10px rgba(0, 170, 255, 0.5);
    }
    .char-count {
      text-align: right;
      margin-top: 8px;
      font-size: 14px;
      color: rgba(150, 180, 220, 0.7);
    }
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(30, 70, 120, 0.9);
      color: white;
      padding: 15px 25px;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.4),
                  0 0 15px rgba(0, 170, 255, 0.5);
      transform: translateX(120%);
      transition: transform 0.3s ease-out;
      z-index: 1000;
      border: 1px solid rgba(100, 180, 255, 0.4);
    }
    .notification.show {
      transform: translateX(0);
    }
    .success-message {
      display: none;
      background: rgba(30, 120, 80, 0.9);
      color: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      margin-top: 25px;
      animation: fadeIn 0.5s;
      font-size: 18px;
      border: 1px solid rgba(0, 200, 100, 0.4);
      box-shadow: 0 0 15px rgba(0, 200, 100, 0.3);
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .error-message {
      display: none;
      background: rgba(150, 50, 50, 0.9);
      color: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      margin-top: 25px;
      animation: fadeIn 0.5s;
      font-size: 18px;
      border: 1px solid rgba(255, 100, 100, 0.4);
      box-shadow: 0 0 15px rgba(255, 100, 100, 0.3);
    }
    .glow-effect {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: -1;
    }
    .glow {
      position: absolute;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      filter: blur(80px);
      opacity: 0.4;
    }
    .glow-1 {
      background: rgba(0, 150, 255, 0.7);
      top: -100px;
      right: -100px;
    }
    .glow-2 {
      background: rgba(100, 0, 255, 0.6);
      bottom: -100px;
      left: -100px;
    }
    .app-section:last-child {
      margin-bottom: 0;
    }
    @media (max-width: 768px) { 
      .app-content { padding: 25px; } 
      .text-area-container { padding: 20px; }
      .action-buttons {
        flex-direction: column;
      }
      .section-title h2 { font-size: 22px; }
    }
  </style>
</head>
<body>
  <div class="glow-effect">
    <div class="glow glow-1"></div>
    <div class="glow glow-2"></div>
  </div>
  
  <div class="container">
    <div class="app-card">
      <div class="app-header">
        <h1><i class="fas fa-file-contract"></i> Myrtille Industries</h1>
        <p>Professional Text to PDF Generator</p>
      </div>
      
      <div class="app-content">
        <div class="app-section">
          <div class="section-title">
            <i class="fas fa-edit"></i>
            <h2>Create Your Document</h2>
          </div>
          
          <div class="text-area-container">
            <label for="contentInput">Enter your document content:</label>
            <textarea id="contentInput" placeholder="Type or paste your document content here...">Myrtille Industries

Dear Valued Partner,

We are pleased to inform you about our new professional document generation service. This system allows you to create customized PDF documents with our official letterhead.

Simply type or paste your content in this text area and click the "Generate PDF" button. Your document will be created with our professional letterhead and footer.

Thank you for choosing Myrtille Industries.

Sincerely,
The Management Team</textarea>
            <div class="char-count" id="charCount">0 characters</div>
            <div class="action-buttons">
              <button class="btn" id="copyBtn">
                <i class="fas fa-copy"></i> Copy Text
              </button>
              <button class="btn btn-secondary" id="clearBtn">
                <i class="fas fa-eraser"></i> Clear
              </button>
            </div>
          </div>
        </div>
        
        <div class="app-section" style="text-align: center; margin-top: 30px;">
          <button class="btn" id="generateBtn" style="padding: 16px 40px; font-size: 20px;">
            <i class="fas fa-file-pdf"></i> Generate PDF
          </button>
          
          <div class="status-area" id="statusArea">
            <div class="status-header">
              <i class="fas fa-cog fa-spin"></i>
              <h3>Generating your document...</h3>
            </div>
            <div class="progress-container">
              <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="status-message" id="statusMessage">Preparing PDF...</div>
          </div>
          
          <div class="success-message" id="successMessage">
            <i class="fas fa-check-circle"></i> Document generated successfully! Check your downloads.
          </div>
          
          <div class="error-message" id="errorMessage">
            <i class="fas fa-exclamation-circle"></i> <span id="errorText">Error generating document</span>
          </div>
        </div>
      </div>
      
      <div class="footer">
        <p>Myrtille Industries &copy; 2023 | Professional Document Solutions</p>
      </div>
    </div>
  </div>
  
  <div class="notification" id="notification">
    <i class="fas fa-check-circle"></i> Text copied to clipboard!
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const contentInput = document.getElementById('contentInput');
      const generateBtn = document.getElementById('generateBtn');
      const copyBtn = document.getElementById('copyBtn');
      const clearBtn = document.getElementById('clearBtn');
      const statusArea = document.getElementById('statusArea');
      const progressBar = document.getElementById('progressBar');
      const statusMessage = document.getElementById('statusMessage');
      const successMessage = document.getElementById('successMessage');
      const errorMessage = document.getElementById('errorMessage');
      const errorText = document.getElementById('errorText');
      const charCount = document.getElementById('charCount');
      const notification = document.getElementById('notification');
      
      // Initialize with sample content
      charCount.textContent = `${contentInput.value.length} characters`;
      
      // Update character count
      contentInput.addEventListener('input', () => {
        charCount.textContent = `${contentInput.value.length} characters`;
      });
      
      // Copy text to clipboard
      copyBtn.addEventListener('click', () => {
        contentInput.select();
        document.execCommand('copy');
        
        // Show notification
        notification.classList.add('show');
        setTimeout(() => {
          notification.classList.remove('show');
        }, 2000);
      });
      
      // Clear text area
      clearBtn.addEventListener('click', () => {
        contentInput.value = '';
        charCount.textContent = "0 characters";
      });
      
      // Generate PDF
      generateBtn.addEventListener('click', generatePDF);
      
      async function generatePDF() {
        const content = contentInput.value.trim();
        
        if (!content) {
          showError("Please enter some content before generating");
          return;
        }
        
        // Reset messages
        successMessage.style.display = 'none';
        errorMessage.style.display = 'none';
        statusArea.classList.add('active');
        statusMessage.textContent = "Creating PDF document...";
        progressBar.style.width = "10%";
        
        try {
          const finalPdf = await PDFLib.PDFDocument.create();
          
          // Embed fonts
          const helveticaFont = await finalPdf.embedFont(PDFLib.StandardFonts.Helvetica);
          const helveticaBoldFont = await finalPdf.embedFont(PDFLib.StandardFonts.HelveticaBold);
          
          // Standard A4 dimensions in points (portrait)
          const a4Width = 595.28;
          const a4Height = 841.89;
          
          // Content area dimensions
          const contentAreaWidth = a4Width - 80; // 40 left + 40 right margin
          const contentAreaHeight = a4Height - 75 - 100 - 40; // 75 header + 100 footer + 20 top + 20 bottom margin
          
          // Split content into pages
          const lines = splitTextIntoLines(content, helveticaFont, 12, contentAreaWidth);
          const pages = groupLinesIntoPages(lines, helveticaFont, 12, contentAreaHeight);
          
          for (let pageIndex = 0; pageIndex < pages.length; pageIndex++) {
            const progress = 10 + (pageIndex / pages.length * 80);
            progressBar.style.width = `${progress}%`;
            statusMessage.textContent = `Generating page ${pageIndex + 1} of ${pages.length}...`;
            
            // Create new page
            const newPage = finalPdf.addPage([a4Width, a4Height]);
            
            // Draw top letterhead
            newPage.drawRectangle({
              x: 0,
              y: a4Height - 75,
              width: a4Width,
              height: 75,
              color: PDFLib.rgb(1, 1, 1),
              borderWidth: 0,
            });
            
            const companyName = "MYRTILLE INDUSTRIES";
            const textWidth = helveticaBoldFont.widthOfTextAtSize(companyName, 24);
            newPage.drawText(companyName, {
              x: a4Width/2 - textWidth/2,
              y: a4Height - 45,
              size: 24,
              color: PDFLib.rgb(0, 0, 0),
              font: helveticaBoldFont,
            });
            
            // Draw top line below company name
            newPage.drawLine({
              start: { x: 40, y: a4Height - 75 },
              end: { x: a4Width - 40, y: a4Height - 75 },
              thickness: 1,
              color: PDFLib.rgb(0.8, 0.8, 0.8),
            });
            
            // Draw bottom letterhead
            newPage.drawRectangle({
              x: 0,
              y: 0,
              width: a4Width,
              height: 100,
              color: PDFLib.rgb(1, 1, 1),
              borderWidth: 0,
            });
            
            // Draw top line above address details
            newPage.drawLine({
              start: { x: 40, y: 100 },
              end: { x: a4Width - 40, y: 100 },
              thickness: 1,
              color: PDFLib.rgb(0.8, 0.8, 0.8),
            });
            
            // Draw address details
            const addressLines = [
              "92 SURAJ NAGAR (E)",
              "CIVIL LINES SODALA",
              "JAIPUR (RAJ)"
            ];
            
            let yPos = 85;
            addressLines.forEach(line => {
              newPage.drawText(line, {
                x: 40,
                y: yPos,
                size: 10,
                color: PDFLib.rgb(0.102, 0.322, 0.463),
                font: helveticaFont,
              });
              yPos -= 14;
            });
            
            // Draw contact details
            const contactLines = [
              "+91 9782099489",
              "anilyadav.bme@gmail.com",
              "GST: 08AMHPY5013C",
              "URN-UDYAM-RJ-17-0084962"
            ];
            
            yPos = 85;
            contactLines.forEach(line => {
              newPage.drawText(line, {
                x: a4Width - 180,
                y: yPos,
                size: 10,
                color: PDFLib.rgb(0.102, 0.322, 0.463),
                font: helveticaFont,
              });
              yPos -= 14;
            });
            
            // Draw content
            const pageLines = pages[pageIndex];
            let contentY = a4Height - 75 - 20; // Start below header
            
            for (const line of pageLines) {
              newPage.drawText(line, {
                x: 40,
                y: contentY,
                size: 12,
                color: PDFLib.rgb(0.2, 0.2, 0.2),
                font: helveticaFont,
              });
              contentY -= 15; // Line height
            }
          }
          
          statusMessage.textContent = "Finalizing document...";
          progressBar.style.width = "95%";
          
          const finalPdfBytes = await finalPdf.save();
          const blob = new Blob([finalPdfBytes], { type: 'application/pdf' });
          saveAs(blob, "Myrtille_Industries_Document.pdf");
          
          statusMessage.textContent = "Document generated successfully!";
          progressBar.style.width = "100%";
          progressBar.style.background = "linear-gradient(90deg, rgba(0, 200, 100, 0.9), rgba(0, 150, 80, 0.9))";
          progressBar.style.boxShadow = "0 0 10px rgba(0, 200, 100, 0.5)";
          
          setTimeout(() => {
            statusArea.classList.remove('active');
            successMessage.style.display = 'block';
            progressBar.style.background = "linear-gradient(90deg, rgba(0, 150, 255, 0.9), rgba(0, 100, 200, 0.9))";
            progressBar.style.boxShadow = "0 0 10px rgba(0, 150, 255, 0.3)";
            progressBar.style.width = "0%";
            
            // Reset after 5 seconds
            setTimeout(() => {
              successMessage.style.display = 'none';
            }, 5000);
          }, 2000);
          
        } catch (error) {
          console.error('Error:', error);
          showError(`Error generating PDF: ${error.message}`);
        }
      }
      
      // Split text into lines that fit within the content width
      function splitTextIntoLines(text, font, fontSize, maxWidth) {
        const words = text.replace(/\n/g, ' \n ').split(' ');
        const lines = [];
        let currentLine = '';
        
        for (let i = 0; i < words.length; i++) {
          const word = words[i];
          
          if (word === '\n') {
            lines.push(currentLine.trim());
            currentLine = '';
            continue;
          }
          
          const testLine = currentLine ? `${currentLine} ${word}` : word;
          const testWidth = font.widthOfTextAtSize(testLine, fontSize);
          
          if (testWidth <= maxWidth) {
            currentLine = testLine;
          } else {
            if (currentLine) {
              lines.push(currentLine.trim());
            }
            currentLine = word;
          }
        }
        
        if (currentLine) {
          lines.push(currentLine.trim());
        }
        
        return lines;
      }
      
      // Group lines into pages based on content height
      function groupLinesIntoPages(lines, font, fontSize, maxHeight) {
        const lineHeight = 15; // Approximate line height
        const maxLinesPerPage = Math.floor(maxHeight / lineHeight);
        
        const pages = [];
        let currentPage = [];
        
        for (const line of lines) {
          if (currentPage.length < maxLinesPerPage) {
            currentPage.push(line);
          } else {
            pages.push([...currentPage]);
            currentPage = [line];
          }
        }
        
        if (currentPage.length > 0) {
          pages.push(currentPage);
        }
        
        return pages;
      }
      
      function showError(message) {
        errorText.textContent = message;
        errorMessage.style.display = 'block';
        statusArea.classList.add('active');
        statusMessage.textContent = message;
        progressBar.style.background = "linear-gradient(90deg, rgba(200, 50, 50, 0.9), rgba(150, 30, 30, 0.9))";
        progressBar.style.boxShadow = "0 0 10px rgba(200, 50, 50, 0.5)";
        progressBar.style.width = "100%";
        
        setTimeout(() => {
          statusArea.classList.remove('active');
          progressBar.style.background = "linear-gradient(90deg, rgba(0, 150, 255, 0.9), rgba(0, 100, 200, 0.9))";
          progressBar.style.boxShadow = "0 0 10px rgba(0, 150, 255, 0.3)";
          progressBar.style.width = "0%";
        }, 5000);
      }
    });
  </script>
</body>
</html>
